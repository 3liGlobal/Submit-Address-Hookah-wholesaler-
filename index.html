<html>

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Submit&#x20;Address&#x20;-&#x20;Hookah&#x20;wholesaler</title>
	<link href="css/form.css" rel="stylesheet" type="text/css">
	<script src="js/validation.js"></script>
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.0.3/css/font-awesome.css">
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
	<style>
		.state-dropdown,
		.state-text,
		.city-text,
		.zip-text {
			display: none;
		}
	</style>
</head>

<body class="zf-backgroundBg">
	<!-- Change or deletion of the name attributes in the input tag will lead to empty values on record submission-->
	<div class="zf-templateWidth">
		<form
			action='https://forms.zohopublic.com/airglobal/form/SubmitAddressHookahwholesaler/formperma/ysph0y-C4sVB2Xyc78ft8DO3L_-1fA-DE-1nAsLsSd4/htmlRecords/submit'
			name='form' method='POST' onSubmit='javascript:document.charset="UTF-8"; return zf_ValidateAndSubmit();'
			accept-charset='UTF-8' enctype='multipart/form-data' id='form'><input type="hidden" name="zf_referrer_name"
				value=""><!-- To Track referrals , place the referrer name within the " " in the above hidden input field -->
			<input type="hidden" name="zf_redirect_url"
				value=""><!-- To redirect to a specific page after record submission , place the respective url within the " " in the above hidden input field -->
			<input type="hidden" name="zc_gad"
				value=""><!-- If GCLID is enabled in Zoho CRM Integration, click details of AdWords Ads will be pushed to Zoho CRM -->
			<div class="zf-templateWrapper"><!---------template Header Starts Here---------->
				<ul class="zf-tempHeadBdr">
					<li class="zf-tempHeadContBdr">
						<h2 class="zf-frmTitle"><em>New Address</em></h2>
						<p class="zf-frmDesc"></p>
						<div class="zf-clearBoth"></div>
					</li>
					<ul id="progressbar">
						<li class="active" id="personal">
							<strong>New Address</strong>
						</li>
					</ul>
				</ul><!---------template Header Ends Here---------->
				<!---------template Container Starts Here---------->
				<div class="zf-subContWrap zf-topAlign">
					<ul>
						<!---------Email Starts Here---------->
						<li class="zf-tempFrmWrapper zf-small">
							<label class="zf-labelName">
								Email.
								<em class="zf-important">*</em>
							</label>
							<div class="zf-tempContDiv">
								<span> <input fieldType=9 type="text" maxlength="255" name="Email" checktype="c5"
										value="" placeholder="" /></span>
								<p id="Email_error" class="zf-errorMessage" style="display:none;">Invalid value</p>
							</div>
							<div class="zf-clearBoth"></div>
						</li><!---------Email Ends Here---------->

						<!---------Dropdown Starts Here---------->
						<li class="zf-tempFrmWrapper zf-large">
							<label class="zf-labelName">
								Type
							</label>
							<div class="zf-tempContDiv">
								<select class="zf-form-sBox" name="Dropdown" checktype="c1">
									<option selected="true" value="-Select-">-Select-</option>
									<option value="Staging">Staging</option>
									<option value="Production">Production</option>
								</select>
								<p id="Dropdown_error" class="zf-errorMessage" style="display:none;">Invalid value</p>
							</div>
							<div class="zf-clearBoth"></div>
						</li><!---------Dropdown Ends Here---------->
						<!--address-->
						<!---------Address Starts Here---------->
						<li class="zf-tempFrmWrapper zf-address zf-addrlarge ">
							<div class="zf-tempContDiv zf-address">
								<div class="zf-addrCont">
									<div class="name-item-2">
										<span class="zf-flLeft zf-addtwo">
											<label>Country
												<em class="zf-important">*</em>
											</label>
											<select class="zf-form-sBox dropdown-countries" name="Address_Country"
												checktype="c1">
												<!-- <option value="-Select-" selected="selected">-Select-</option> -->
												<option value="" selected="selected" disabled>Select Country</option>

											</select>
										</span>
										<span class="zf-flLeft zf-addtwo">
											<label>State/Region/Province
												<em class="zf-important star">*</em>
											</label>
											<select class="Address_Region state-dropdown" name="Address_Region"
												checktype="c1" placeholder="">
												<option value="" selected="selected" disabled>Select State</option>
											</select>
											<input type="text" class="Address_Region state-text"
												placeholder="Enter state">

											<!-- <input type="text" maxlength="255" name="Address_Region" checktype="c1"
												placeholder="" /> -->
										</span>
									</div>

									<div class="name-item-2">
										<span class="zf-flLeft zf-addtwo">
											<label>City
												<em class="zf-important">*</em>
											</label>
											<select class="Address_City city-dropdown" id="city" checktype="c1"
												placeholder="" disabled>
												<option value="" selected="selected">Select City</option>
											</select>
											<input type="text" class="Address_City city-text" name="Address_City"
												maxlength="255" placeholder="" autocomplete="off" />

										</span>
										<span class="zf-flLeft zf-addtwo disabled">
											<label>Postal / Zip Code
												<em class="zf-important">*</em>
											</label>
											<select class="Address_ZipCode zip-dropdown" id="postalCode" checktype="c1"
												placeholder="" disabled>
												<option value="" selected="selected">Select Zip</option>
											</select>
											<input type="text" maxlength="255" placeholder="" name="Address_ZipCode"
												id="postalCode" class="Address_ZipCode zip-text" autocomplete="off" />

										</span>
									</div>

									<div class="name-item-2">
										<span class="zf-addOne">
											<label>County
												<em class="zf-important">*</em>
											</label>
											<input type="text" maxlength="255" name="SingleLine1" checktype="c1"
												placeholder="" class="county" id="county" autocomplete="off" />
											<p id="SingleLine1_error" class="zf-errorMessage" style="display:none;">
												Invalid value</p>
										</span>
										<span class="zf-addOne">
											<label>Suite/Unit/Apt. Number
												<em class="zf-important">*</em>
											</label>
											<input type="text" maxlength="255" name="Address_AddressLine2"
												checktype="c1" placeholder="" autocomplete="off" />
										</span>
									</div>

									<div class="zf-clearBoth"></div>
									<p id="Address_error" class="zf-errorMessage" style="display:none;">Invalid
										value
									</p>
								</div>
							</div>
							<div class="zf-eclearBoth"></div>
						</li><!---------Address Ends Here---------->

						<!---------Street Starts Here---------->
						<li class="zf-tempFrmWrapper zf-large">
							<label class="zf-labelName">Street Address</label>
							<div class="zf-tempContDiv">
								<span class="zf-addOne"> <input type="text" maxlength="255" name="Address_AddressLine1"
										checktype="c1" placeholder="" class="street" id="searchInput"
										oninput="searchDropdown()" />
									<div class="dropdown-list"></div>
								</span>
								<p id="Dropdown_error" class="zf-errorMessage" style="display:none;">Invalid value</p>
							</div>
							<div class="zf-clearBoth"></div>
						</li><!---------Street Ends Here---------->
					</ul>




				</div><!---------template Container Starts Here---------->
				<ul>
					<li class="zf-fmFooter"><button class="zf-submitColor">Submit</button></li>
				</ul>

			</div><!-- 'zf-templateWrapper' ends -->
		</form>
	</div><!-- 'zf-templateWidth' ends -->
	<script type="text/javascript">var zf_DateRegex = new RegExp("^(([0][1-9])|([1-2][0-9])|([3][0-1]))[-](Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec|JAN|FEB|MAR|APR|MAY|JUN|JUL|AUG|SEP|OCT|NOV|DEC)[-](?:(?:19|20)[0-9]{2})$");
		// var zf_MandArray = ["Address_AddressLine1", "Address_City", "Address_Region", "Address_ZipCode", "Address_Country"];
		var zf_FieldArray = ["Email", "Dropdown", "Address_AddressLine1", "Address_AddressLine2", "Address_City", "Address_Region", "Address_ZipCode", "Address_Country", "SingleLine1"];
		var isSalesIQIntegrationEnabled = false;
		var salesIQFieldsArray = [];
	</script>
	<script src="js/states.js"></script>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.4/jquery.min.js"></script>
	<script>
		const dropdownList = $(".dropdown-list");
		const addressInfo = $(".addressInfo");

		function fetchData(query, callback) {
			$.get(query, callback);
		}

		// Function to handle the search input
		function searchDropdown() {

			var country = $(".dropdown-countries").find(":selected").text();
			var city = $(".Address_City").val();
			var zipCode = $(".Address_ZipCode").val();
			alert(country + city + zipCode)
			var inputLength = $("#searchInput").val().length;
			if (inputLength > 0) {
				const query = `https://api.addressy.com/Capture/Interactive/Find/v1.10/json3.ws?Key=TY78-BD75-NW81-XE97&Countries=US&Limit=5&Text=${$(
					"#searchInput"
				).val()}`;

				// Call the API to get data based on the search query
				fetchData(query, (data) => {
					const filteredOptions = data.Items;
					dropdownList.empty();
					filteredOptions.forEach((option) => {
						if (option.Type === "Container" || option.Type === "Street") {
							dropdownList.append(
								`<div class="dropdown-item"> ${option.Text} <span id="${option.Id}" onclick="callback(event, this);">see all ${option.Description}</span></div>`
							);
						} else {
							dropdownList.append(
								`<div class="dropdown-item" id="${option.Id}" onclick="getAddressDetail(event, this);"> ${option.Text}</div>`
							);
						}
					});
				});
			} else {
				dropdownList.empty();
			}

		}
		function callback(e, thisObj) {
			let id = thisObj.id;
			const query = `https://api.addressy.com/Capture/Interactive/Find/v1.10/json3.ws?Key=TY78-BD75-NW81-XE97&Countries=US&Limit=10&Container=${id}`;
			fetchData(query, (data) => {
				const filteredOptions = data.Items;
				dropdownList.empty();
				dropdownList.css({ "max-height": "300px", "overflow-y": "auto" });

				filteredOptions.forEach((option) => {
					if (option.Type === "Container") {
						dropdownList.append(
							`<div class="dropdown-item"> ${option.Text} <span id="${option.Id}" onclick="callback(event, this);">see all ${option.Description}</span></div>`
						);
					} else if (option.Type === "Street") {
						dropdownList.append(
							`<div class="dropdown-item" id="Street, ${option.Text}" onclick="getAddressDetail(event, this);"> ${option.Text}</div>`
						);
					} else {
						dropdownList.append(
							`<div class="dropdown-item" id="${option.Id}" onclick="getAddressDetail(event, this);"> ${option.Text}</div>`
						);
					}
				});
			});
		}
		function getAddressDetail(e, thisObj) {
			let id = thisObj.id;
			const query = `https://api.addressy.com/Capture/Interactive/Retrieve/v1.2/json3.ws?Key=TY78-BD75-NW81-XE97&Id=${id}`;
			fetchData(query, (data) => {
				const filteredOptions = data.Items;
				filteredOptions.forEach((option) => {
					option.Line1 ? $(".street").val(option.Line1) : $(".street").val(option.City);
					dropdownList.empty();
				});
			});
		}

	</script>
</body>

</html>